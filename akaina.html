<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScriptで動的にモーダルウィンドウを作成する</title>
</head>
<body>
    <script>
        // スクリプトを動的に読み込むための関数
        function loadScript(url, callback) {
            var script = document.createElement("script");
            script.type = "text/javascript";
            script.src = url;
            script.onload = callback;
            document.head.appendChild(script);
        }

        // スタイルシートを動的に読み込むための関数
        function loadStylesheet(url) {
            var link = document.createElement("link");
            link.rel = "stylesheet";
            link.href = url;
            document.head.appendChild(link);
        }

        window.onload = function() {
            // jQueryを動的に読み込む
            loadScript("https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js", function() {
                console.log("jQueryが読み込まれました");

                // ModaalのCSSを動的に読み込む
                loadStylesheet("https://cdnjs.cloudflare.com/ajax/libs/Modaal/0.4.4/css/modaal.min.css");

                // ModaalのJavaScriptを動的に読み込む
                loadScript("https://cdnjs.cloudflare.com/ajax/libs/Modaal/0.4.4/js/modaal.min.js", function() {
                    console.log("Modaalが読み込まれました");

                    // Modaalの初期化
                    var modalContent = document.createElement('div');
                    modalContent.innerHTML = '<p>ここに動的に追加したコンテンツを入れます。</p>';

                    var options = {
                        content_source: modalContent,
                        background: '#333',
                        type: 'inline'
                    };

              //      // Modaalの初期化と表示
                //    var modaal = new Modaal(options);
                    modaal.open();
                });
            });
        };
    </script>
</body>
</html>
