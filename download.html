<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GitHub Releases Download Count</title>
</head>
<body>
<h1>GitHub Releases Download Count</h1>

<div id="downloadInfo">
  <!-- ダウンロード情報がここに挿入されます -->
</div>

<script>
// GitHubリポジトリの所有者とリポジトリ名
const owner = 'owner';
const repo = 'repository';

// GitHubのAPIエンドポイント
const apiUrl = `https://api.github.com/repos/${owner}/${repo}/releases`;

// GitHubのAPIを呼び出してリリース情報を取得し、ダウンロード数をHTMLに書き込む
fetch(apiUrl)
    .then(response => response.json())
    .then(releases => {
        let downloadInfoHTML = '';
        releases.forEach(release => {
            let totalDownloads = 0;
            release.assets.forEach(asset => {
                totalDownloads += asset.download_count;
            });
            const downloadButtonHTML = `<a href="${release.html_url}" download>Download ${release.name || 'Release'}</a>`;
            const downloadCountHTML = `<span>ダウンロード数: ${totalDownloads.toLocaleString()}</span>`;
            downloadInfoHTML += `<div>${downloadButtonHTML} ${downloadCountHTML}</div>`;
        });
        document.getElementById('downloadInfo').innerHTML = downloadInfoHTML;
    })
    .catch(error => console.error('Error fetching release information:', error));
</script>

</body>
</html>
