<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GitHub Releases</title>
</head>
<body>
    <div id="download-count"></div>

    <script>
          const owner = 'akaina0112'; // GitHubリポジトリの所有者名
        const repo = 'Test'; // GitHubリポジトリの名前

        function fetchDownloadCount() {
            fetch(`https://api.github.com/repos/${owner}/${repo}/releases`)
                .then(response => response.json())
                .then(data => {
                    let totalDownloadCount = 0;
                    data.forEach(release => {
                        totalDownloadCount += release.assets.reduce((acc, asset) => acc + asset.download_count, 0);
                    });
                    document.getElementById('download-count').innerText = `Total Downloads: ${totalDownloadCount}`;
                })
                .catch(error => {
                    console.error('Error fetching download count:', error);
                });
        }

        // 初期読み込み時にダウンロード数を取得
        fetchDownloadCount();

        // 30秒ごとにダウンロード数を更新
        setInterval(fetchDownloadCount, 30000);
    </script>
</body>
</html>
